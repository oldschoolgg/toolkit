var bn=Object.create;var yt=Object.defineProperty;var kn=Object.getOwnPropertyDescriptor;var xn=Object.getOwnPropertyNames;var Tn=Object.getPrototypeOf,Nn=Object.prototype.hasOwnProperty;var l=(t,e)=>yt(t,"name",{value:e,configurable:!0});var Sn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var En=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of xn(e))!Nn.call(t,i)&&i!==n&&yt(t,i,{get:()=>e[i],enumerable:!(r=kn(e,i))||r.enumerable});return t};var jt=(t,e,n)=>(n=t!=null?bn(Tn(t)):{},En(e||!t||!t.__esModule?yt(n,"default",{value:t,enumerable:!0}):n,t));var Et=Sn(O=>{"use strict";var z;Object.defineProperty(O,"__esModule",{value:!0}),(z=O.Time||(O.Time={}))[z.Millisecond=1]="Millisecond",z[z.Second=1e3]="Second",z[z.Minute=6e4]="Minute",z[z.Hour=36e5]="Hour",z[z.Day=864e5]="Day",z[z.Month=2592e6]="Month",z[z.Year=31536e6]="Year";var en=["string","bigint","number","boolean"];function Jt(t){return!(typeof t!="object"||!t)&&t.constructor===Object}l(Jt,"r");function Yt(t){return en.includes(typeof t)}l(Yt,"n");function Xt(t,e){return Math.floor(Math.random()*(e-t+1)+t)}l(Xt,"o");function Qt(t,e){return Math.random()*(e-t)+t}l(Qt,"u");O.calcPercentOfNum=function(t,e){return t*e/100},O.calcWhatPercent=function(t,e){return 100*t/e},O.chunk=function(t,e){if(e<1)throw new RangeError("chunkSize must be 1 or greater.");if(!Number.isInteger(e))throw new TypeError("chunkSize must be an integer.");let n=t.slice(),r=[];for(;n.length;)r.push(n.splice(0,e));return r},O.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},O.debounce=(t,e)=>{let n=null;return(...r)=>{n!==null&&(clearTimeout(n),n=null),n=setTimeout(()=>t(...r),e)}},O.deepClone=l(function t(e){if(e===null||Yt(e))return e;if(Array.isArray(e)){let n=[];for(let r of e)n.push(t(r));return n}if(Jt(e)){let n={};for(let[r,i]of Object.entries(e))n[r]=t(i);return n}if(e instanceof Map){let n=new e.constructor;for(let[r,i]of e.entries())n.set(r,t(i));return n}if(e instanceof Set){let n=new e.constructor;for(let r of e.values())n.add(t(r));return n}return e},"e"),O.increaseNumByPercent=function(t,e){return e<=0?t:t+t*(e/100)},O.isFunction=function(t){return typeof t=="function"},O.isObject=Jt,O.isPrimitive=Yt,O.noOp=function(){},O.notEmpty=function(t){return t!=null},O.objectEntries=function(t){return Object.entries(t)},O.objectKeys=function(t){return Object.keys(t)},O.objectValues=function(t){return Object.values(t)},O.partition=function(t,e){let n=[],r=[];for(let i of t)(e(i)?n:r).push(i);return[n,r]},O.percentChance=function(t){return Qt(0,100)<t},O.primitiveTypes=en,O.randArrItem=function(t){return t[Math.floor(Math.random()*t.length)]},O.randFloat=Qt,O.randInt=Xt,O.reduceNumByPercent=function(t,e){return e<=0?t:t-t*(e/100)},O.removeFromArr=function(t,e){return t.filter(n=>n!==e)},O.roll=function(t){return Xt(1,t)===1},O.round=function(t,e=1){let n=Math.pow(10,e||0);return Math.round(t*n)/n},O.scaleNumber=function(t,e,n,r,i){return(t-e)*(i-r)/(n-e)+r},O.shuffleArr=function(t){let e=[...t];for(let n=e.length-1;n>0;n--){let r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e},O.sleep=function(t){return new Promise(e=>setTimeout(e,t))},O.stripNonAlphanumeric=function(t){return t.replace(/[^a-zA-Z0-9]/g,"")},O.sumArr=function(t){return t.reduce((e,n)=>e+n,0)},O.uniqueArr=function(t){return[...new Set(t)]}});var Ze=9e15,he=1e9,wt="0123456789abcdef",rt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",it="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",bt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ze,maxE:Ze,crypto:!1},Dt,ae,T=!0,at="[DecimalError] ",fe=at+"Invalid argument: ",Vt=at+"Precision limit exceeded",Lt=at+"crypto unavailable",Bt="[object Decimal]",V=Math.floor,A=Math.pow,On=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Cn=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Mn=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,qt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Q=1e7,b=7,In=9007199254740991,Rn=rt.length-1,kt=it.length-1,p={toStringTag:Bt};p.absoluteValue=p.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),w(t)};p.ceil=function(){return w(new this.constructor(this),this.e+1,2)};p.clampedTo=p.clamp=function(t,e){var n,r=this,i=r.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(fe+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new i(r)};p.comparedTo=p.cmp=function(t){var e,n,r,i,s=this,a=s.d,o=(t=new s.constructor(t)).d,c=s.s,u=t.s;if(!a||!o)return!c||!u?NaN:c!==u?c:a===o?0:!a^c<0?1:-1;if(!a[0]||!o[0])return a[0]?c:o[0]?-u:0;if(c!==u)return c;if(s.e!==t.e)return s.e>t.e^c<0?1:-1;for(r=a.length,i=o.length,e=0,n=r<i?r:i;e<n;++e)if(a[e]!==o[e])return a[e]>o[e]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1};p.cosine=p.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+b,r.rounding=1,n=Zn(r,Ht(r,n)),r.precision=t,r.rounding=e,w(ae==2||ae==3?n.neg():n,t,e,!0)):new r(1):new r(NaN)};p.cubeRoot=p.cbrt=function(){var t,e,n,r,i,s,a,o,c,u,d=this,f=d.constructor;if(!d.isFinite()||d.isZero())return new f(d);for(T=!1,s=d.s*A(d.s*d,1/3),!s||Math.abs(s)==1/0?(n=$(d.d),t=d.e,(s=(t-n.length+1)%3)&&(n+=s==1||s==-2?"0":"00"),s=A(n,1/3),t=V((t+1)/3)-(t%3==(t<0?-1:2)),s==1/0?n="5e"+t:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new f(n),r.s=d.s):r=new f(s.toString()),a=(t=f.precision)+3;;)if(o=r,c=o.times(o).times(o),u=c.plus(d),r=R(u.plus(d).times(o),u.plus(c),a+2,1),$(o.d).slice(0,a)===(n=$(r.d)).slice(0,a))if(n=n.slice(a-3,a+1),n=="9999"||!i&&n=="4999"){if(!i&&(w(o,t+1,0),o.times(o).times(o).eq(d))){r=o;break}a+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(w(r,t+1,1),e=!r.times(r).times(r).eq(d));break}return T=!0,w(r,t,f.rounding,e)};p.decimalPlaces=p.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-V(this.e/b))*b,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n};p.dividedBy=p.div=function(t){return R(this,new this.constructor(t))};p.dividedToIntegerBy=p.divToInt=function(t){var e=this,n=e.constructor;return w(R(e,new n(t),0,1,1),n.precision,n.rounding)};p.equals=p.eq=function(t){return this.cmp(t)===0};p.floor=function(){return w(new this.constructor(this),this.e+1,3)};p.greaterThan=p.gt=function(t){return this.cmp(t)>0};p.greaterThanOrEqualTo=p.gte=function(t){var e=this.cmp(t);return e==1||e===0};p.hyperbolicCosine=p.cosh=function(){var t,e,n,r,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;n=a.precision,r=a.rounding,a.precision=n+Math.max(s.e,s.sd())+4,a.rounding=1,i=s.d.length,i<32?(t=Math.ceil(i/3),e=(1/ut(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),s=je(a,1,s.times(e),new a(1),!0);for(var c,u=t,d=new a(8);u--;)c=s.times(s),s=o.minus(c.times(d.minus(c.times(d))));return w(s,a.precision=n,a.rounding=r,!0)};p.hyperbolicSine=p.sinh=function(){var t,e,n,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,n=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,r=i.d.length,r<3)i=je(s,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:t|0,i=i.times(1/ut(5,t)),i=je(s,2,i,i,!0);for(var a,o=new s(5),c=new s(16),u=new s(20);t--;)a=i.times(i),i=i.times(o.plus(a.times(c.times(a).plus(u))))}return s.precision=e,s.rounding=n,w(i,e,n,!0)};p.hyperbolicTangent=p.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,R(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)};p.inverseCosine=p.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,s=n.rounding;return r!==-1?r===0?e.isNeg()?X(n,i,s):new n(0):new n(NaN):e.isZero()?X(n,i+4,s).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=X(n,i+4,s).times(.5),n.precision=i,n.rounding=s,t.minus(e))};p.inverseHyperbolicCosine=p.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,T=!1,n=n.times(n).minus(1).sqrt().plus(n),T=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)};p.inverseHyperbolicSine=p.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,T=!1,n=n.times(n).plus(1).sqrt().plus(n),T=!0,r.precision=t,r.rounding=e,n.ln())};p.inverseHyperbolicTangent=p.atanh=function(){var t,e,n,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?w(new s(i),t,e,!0):(s.precision=n=r-i.e,i=R(i.plus(1),new s(1).minus(i),n+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)};p.inverseSine=p.asin=function(){var t,e,n,r,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),n=s.precision,r=s.rounding,e!==-1?e===0?(t=X(s,n+4,r).times(.5),t.s=i.s,t):new s(NaN):(s.precision=n+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,i.times(2)))};p.inverseTangent=p.atan=function(){var t,e,n,r,i,s,a,o,c,u=this,d=u.constructor,f=d.precision,h=d.rounding;if(u.isFinite()){if(u.isZero())return new d(u);if(u.abs().eq(1)&&f+4<=kt)return a=X(d,f+4,h).times(.25),a.s=u.s,a}else{if(!u.s)return new d(NaN);if(f+4<=kt)return a=X(d,f+4,h).times(.5),a.s=u.s,a}for(d.precision=o=f+10,d.rounding=1,n=Math.min(28,o/b+2|0),t=n;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(T=!1,e=Math.ceil(o/b),r=1,c=u.times(u),a=new d(u),i=u;t!==-1;)if(i=i.times(c),s=a.minus(i.div(r+=2)),i=i.times(c),a=s.plus(i.div(r+=2)),a.d[e]!==void 0)for(t=e;a.d[t]===s.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),T=!0,w(a,d.precision=f,d.rounding=h,!0)};p.isFinite=function(){return!!this.d};p.isInteger=p.isInt=function(){return!!this.d&&V(this.e/b)>this.d.length-2};p.isNaN=function(){return!this.s};p.isNegative=p.isNeg=function(){return this.s<0};p.isPositive=p.isPos=function(){return this.s>0};p.isZero=function(){return!!this.d&&this.d[0]===0};p.lessThan=p.lt=function(t){return this.cmp(t)<0};p.lessThanOrEqualTo=p.lte=function(t){return this.cmp(t)<1};p.logarithm=p.log=function(t){var e,n,r,i,s,a,o,c,u=this,d=u.constructor,f=d.precision,h=d.rounding,_=5;if(t==null)t=new d(10),e=!0;else{if(t=new d(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new d(NaN);e=t.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new d(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)s=!0;else{for(i=n[0];i%10===0;)i/=10;s=i!==1}if(T=!1,o=f+_,a=de(u,o),r=e?st(d,o+10):de(t,o),c=R(a,r,o,1),ze(c.d,i=f,h))do if(o+=10,a=de(u,o),r=e?st(d,o+10):de(t,o),c=R(a,r,o,1),!s){+$(c.d).slice(i+1,i+15)+1==1e14&&(c=w(c,f+1,0));break}while(ze(c.d,i+=10,h));return T=!0,w(c,f,h)};p.minus=p.sub=function(t){var e,n,r,i,s,a,o,c,u,d,f,h,_=this,M=_.constructor;if(t=new M(t),!_.d||!t.d)return!_.s||!t.s?t=new M(NaN):_.d?t.s=-t.s:t=new M(t.d||_.s!==t.s?_:NaN),t;if(_.s!=t.s)return t.s=-t.s,_.plus(t);if(u=_.d,h=t.d,o=M.precision,c=M.rounding,!u[0]||!h[0]){if(h[0])t.s=-t.s;else if(u[0])t=new M(_);else return new M(c===3?-0:0);return T?w(t,o,c):t}if(n=V(t.e/b),d=V(_.e/b),u=u.slice(),s=d-n,s){for(f=s<0,f?(e=u,s=-s,a=h.length):(e=h,n=d,a=u.length),r=Math.max(Math.ceil(o/b),a)+2,s>r&&(s=r,e.length=1),e.reverse(),r=s;r--;)e.push(0);e.reverse()}else{for(r=u.length,a=h.length,f=r<a,f&&(a=r),r=0;r<a;r++)if(u[r]!=h[r]){f=u[r]<h[r];break}s=0}for(f&&(e=u,u=h,h=e,t.s=-t.s),a=u.length,r=h.length-a;r>0;--r)u[a++]=0;for(r=h.length;r>s;){if(u[--r]<h[r]){for(i=r;i&&u[--i]===0;)u[i]=Q-1;--u[i],u[r]+=Q}u[r]-=h[r]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=ot(u,n),T?w(t,o,c):t):new M(c===3?-0:0)};p.modulo=p.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?w(new r(n),r.precision,r.rounding):(T=!1,r.modulo==9?(e=R(n,t.abs(),0,3,1),e.s*=t.s):e=R(n,t,0,r.modulo,1),e=e.times(t),T=!0,n.minus(e))};p.naturalExponential=p.exp=function(){return xt(this)};p.naturalLogarithm=p.ln=function(){return de(this)};p.negated=p.neg=function(){var t=new this.constructor(this);return t.s=-t.s,w(t)};p.plus=p.add=function(t){var e,n,r,i,s,a,o,c,u,d,f=this,h=f.constructor;if(t=new h(t),!f.d||!t.d)return!f.s||!t.s?t=new h(NaN):f.d||(t=new h(t.d||f.s===t.s?f:NaN)),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(u=f.d,d=t.d,o=h.precision,c=h.rounding,!u[0]||!d[0])return d[0]||(t=new h(f)),T?w(t,o,c):t;if(s=V(f.e/b),r=V(t.e/b),u=u.slice(),i=s-r,i){for(i<0?(n=u,i=-i,a=d.length):(n=d,r=s,a=u.length),s=Math.ceil(o/b),a=s>a?s+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=u.length,i=d.length,a-i<0&&(i=a,n=d,d=u,u=n),e=0;i;)e=(u[--i]=u[i]+d[i]+e)/Q|0,u[i]%=Q;for(e&&(u.unshift(e),++r),a=u.length;u[--a]==0;)u.pop();return t.d=u,t.e=ot(u,r),T?w(t,o,c):t};p.precision=p.sd=function(t){var e,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(fe+t);return n.d?(e=Ut(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e};p.round=function(){var t=this,e=t.constructor;return w(new e(t),t.e+1,e.rounding)};p.sine=p.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+b,r.rounding=1,n=An(r,Ht(r,n)),r.precision=t,r.rounding=e,w(ae>2?n.neg():n,t,e,!0)):new r(NaN)};p.squareRoot=p.sqrt=function(){var t,e,n,r,i,s,a=this,o=a.d,c=a.e,u=a.s,d=a.constructor;if(u!==1||!o||!o[0])return new d(!u||u<0&&(!o||o[0])?NaN:o?a:1/0);for(T=!1,u=Math.sqrt(+a),u==0||u==1/0?(e=$(o),(e.length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=V((c+1)/2)-(c<0||c%2),u==1/0?e="5e"+c:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),r=new d(e)):r=new d(u.toString()),n=(c=d.precision)+3;;)if(s=r,r=s.plus(R(a,s,n+2,1)).times(.5),$(s.d).slice(0,n)===(e=$(r.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!i&&e=="4999"){if(!i&&(w(s,c+1,0),s.times(s).eq(a))){r=s;break}n+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(w(r,c+1,1),t=!r.times(r).eq(a));break}return T=!0,w(r,c,d.rounding,t)};p.tangent=p.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=R(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,w(ae==2||ae==4?n.neg():n,t,e,!0)):new r(NaN)};p.times=p.mul=function(t){var e,n,r,i,s,a,o,c,u,d=this,f=d.constructor,h=d.d,_=(t=new f(t)).d;if(t.s*=d.s,!h||!h[0]||!_||!_[0])return new f(!t.s||h&&!h[0]&&!_||_&&!_[0]&&!h?NaN:!h||!_?t.s/0:t.s*0);for(n=V(d.e/b)+V(t.e/b),c=h.length,u=_.length,c<u&&(s=h,h=_,_=s,a=c,c=u,u=a),s=[],a=c+u,r=a;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)o=s[i]+_[r]*h[i-r-1]+e,s[i--]=o%Q|0,e=o/Q|0;s[i]=(s[i]+e)%Q|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=ot(s,n),T?w(t,f.precision,f.rounding):t};p.toBinary=function(t,e){return Nt(this,2,t,e)};p.toDecimalPlaces=p.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(U(t,0,he),e===void 0?e=r.rounding:U(e,0,8),w(n,t+n.e+1,e))};p.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ne(r,!0):(U(t,0,he),e===void 0?e=i.rounding:U(e,0,8),r=w(new i(r),t+1,e),n=ne(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n};p.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?n=ne(i):(U(t,0,he),e===void 0?e=s.rounding:U(e,0,8),r=w(new s(i),t+i.e+1,e),n=ne(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};p.toFraction=function(t){var e,n,r,i,s,a,o,c,u,d,f,h,_=this,M=_.d,N=_.constructor;if(!M)return new N(_);if(u=n=new N(1),r=c=new N(0),e=new N(r),s=e.e=Ut(M)-_.e-1,a=s%b,e.d[0]=A(10,a<0?b+a:a),t==null)t=s>0?e:u;else{if(o=new N(t),!o.isInt()||o.lt(u))throw Error(fe+o);t=o.gt(e)?s>0?e:u:o}for(T=!1,o=new N($(M)),d=N.precision,N.precision=s=M.length*b*2;f=R(o,e,0,1,1),i=n.plus(f.times(r)),i.cmp(t)!=1;)n=r,r=i,i=u,u=c.plus(f.times(i)),c=i,i=e,e=o.minus(f.times(i)),o=i;return i=R(t.minus(n),r,0,1,1),c=c.plus(i.times(u)),n=n.plus(i.times(r)),c.s=u.s=_.s,h=R(u,r,s,1).minus(_).abs().cmp(R(c,n,s,1).minus(_).abs())<1?[u,r]:[c,n],N.precision=d,T=!0,h};p.toHexadecimal=p.toHex=function(t,e){return Nt(this,16,t,e)};p.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),t==null){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),e===void 0?e=r.rounding:U(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(T=!1,n=R(n,t,0,e,1).times(t),T=!0,w(n)):(t.s=n.s,n=t),n};p.toNumber=function(){return+this};p.toOctal=function(t,e){return Nt(this,8,t,e)};p.toPower=p.pow=function(t){var e,n,r,i,s,a,o=this,c=o.constructor,u=+(t=new c(t));if(!o.d||!t.d||!o.d[0]||!t.d[0])return new c(A(+o,u));if(o=new c(o),o.eq(1))return o;if(r=c.precision,s=c.rounding,t.eq(1))return w(o,r,s);if(e=V(t.e/b),e>=t.d.length-1&&(n=u<0?-u:u)<=In)return i=zt(c,o,n,r),t.s<0?new c(1).div(i):w(i,r,s);if(a=o.s,a<0){if(e<t.d.length-1)return new c(NaN);if(t.d[e]&1||(a=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=a,o}return n=A(+o,u),e=n==0||!isFinite(n)?V(u*(Math.log("0."+$(o.d))/Math.LN10+o.e+1)):new c(n+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?a/0:0):(T=!1,c.rounding=o.s=1,n=Math.min(12,(e+"").length),i=xt(t.times(de(o,r+n)),r),i.d&&(i=w(i,r+5,1),ze(i.d,r,s)&&(e=r+10,i=w(xt(t.times(de(o,e+n)),e),e+5,1),+$(i.d).slice(r+1,r+15)+1==1e14&&(i=w(i,r+1,0)))),i.s=a,T=!0,c.rounding=s,w(i,r,s))};p.toPrecision=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ne(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(U(t,1,he),e===void 0?e=i.rounding:U(e,0,8),r=w(new i(r),t,e),n=ne(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n};p.toSignificantDigits=p.toSD=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(U(t,1,he),e===void 0?e=r.rounding:U(e,0,8)),w(new r(n),t,e)};p.toString=function(){var t=this,e=t.constructor,n=ne(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n};p.truncated=p.trunc=function(){return w(new this.constructor(this),this.e+1,1)};p.valueOf=p.toJSON=function(){var t=this,e=t.constructor,n=ne(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};function $(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=b-r.length,n&&(s+=le(n)),s+=r;a=t[e],r=a+"",n=b-r.length,n&&(s+=le(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}l($,"digitsToString");function U(t,e,n){if(t!==~~t||t<e||t>n)throw Error(fe+t)}l(U,"checkInt32");function ze(t,e,n,r){var i,s,a,o;for(s=t[0];s>=10;s/=10)--e;return--e<0?(e+=b,i=0):(i=Math.ceil((e+1)/b),e%=b),s=A(10,b-e),o=t[i]%s|0,r==null?e<3?(e==0?o=o/100|0:e==1&&(o=o/10|0),a=n<4&&o==99999||n>3&&o==49999||o==5e4||o==0):a=(n<4&&o+1==s||n>3&&o+1==s/2)&&(t[i+1]/s/100|0)==A(10,e-2)-1||(o==s/2||o==0)&&(t[i+1]/s/100|0)==0:e<4?(e==0?o=o/1e3|0:e==1?o=o/100|0:e==2&&(o=o/10|0),a=(r||n<4)&&o==9999||!r&&n>3&&o==4999):a=((r||n<4)&&o+1==s||!r&&n>3&&o+1==s/2)&&(t[i+1]/s/1e3|0)==A(10,e-3)-1,a}l(ze,"checkRoundingDigits");function nt(t,e,n){for(var r,i=[0],s,a=0,o=t.length;a<o;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=wt.indexOf(t.charAt(a++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}l(nt,"convertBase");function Zn(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),i=(1/ut(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=je(t,1,e.times(i),new t(1));for(var s=n;s--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}l(Zn,"cosine");var R=function(){function t(r,i,s){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%s|0,o=a/s|0;return o&&r.unshift(o),r}l(t,"multiplyInteger");function e(r,i,s,a){var o,c;if(s!=a)c=s>a?1:-1;else for(o=c=0;o<s;o++)if(r[o]!=i[o]){c=r[o]>i[o]?1:-1;break}return c}l(e,"compare");function n(r,i,s,a){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*a+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return l(n,"subtract"),function(r,i,s,a,o,c){var u,d,f,h,_,M,N,B,j,J,I,P,Xe,se,gt,Qe,Ue,vt,Y,et,tt=r.constructor,_t=r.s==i.s?1:-1,D=r.d,Z=i.d;if(!D||!D[0]||!Z||!Z[0])return new tt(!r.s||!i.s||(D?Z&&D[0]==Z[0]:!Z)?NaN:D&&D[0]==0||!Z?_t*0:_t/0);for(c?(_=1,d=r.e-i.e):(c=Q,_=b,d=V(r.e/_)-V(i.e/_)),Y=Z.length,Ue=D.length,j=new tt(_t),J=j.d=[],f=0;Z[f]==(D[f]||0);f++);if(Z[f]>(D[f]||0)&&d--,s==null?(se=s=tt.precision,a=tt.rounding):o?se=s+(r.e-i.e)+1:se=s,se<0)J.push(1),M=!0;else{if(se=se/_+2|0,f=0,Y==1){for(h=0,Z=Z[0],se++;(f<Ue||h)&&se--;f++)gt=h*c+(D[f]||0),J[f]=gt/Z|0,h=gt%Z|0;M=h||f<Ue}else{for(h=c/(Z[0]+1)|0,h>1&&(Z=t(Z,h,c),D=t(D,h,c),Y=Z.length,Ue=D.length),Qe=Y,I=D.slice(0,Y),P=I.length;P<Y;)I[P++]=0;et=Z.slice(),et.unshift(0),vt=Z[0],Z[1]>=c/2&&++vt;do h=0,u=e(Z,I,Y,P),u<0?(Xe=I[0],Y!=P&&(Xe=Xe*c+(I[1]||0)),h=Xe/vt|0,h>1?(h>=c&&(h=c-1),N=t(Z,h,c),B=N.length,P=I.length,u=e(N,I,B,P),u==1&&(h--,n(N,Y<B?et:Z,B,c))):(h==0&&(u=h=1),N=Z.slice()),B=N.length,B<P&&N.unshift(0),n(I,N,P,c),u==-1&&(P=I.length,u=e(Z,I,Y,P),u<1&&(h++,n(I,Y<P?et:Z,P,c))),P=I.length):u===0&&(h++,I=[0]),J[f++]=h,u&&I[0]?I[P++]=D[Qe]||0:(I=[D[Qe]],P=1);while((Qe++<Ue||I[0]!==void 0)&&se--);M=I[0]!==void 0}J[0]||J.shift()}if(_==1)j.e=d,Dt=M;else{for(f=1,h=J[0];h>=10;h/=10)f++;j.e=f+d*_-1,w(j,o?s+j.e+1:s,a,M)}return j}}();function w(t,e,n,r){var i,s,a,o,c,u,d,f,h,_=t.constructor;e:if(e!=null){if(f=t.d,!f)return t;for(i=1,o=f[0];o>=10;o/=10)i++;if(s=e-i,s<0)s+=b,a=e,d=f[h=0],c=d/A(10,i-a-1)%10|0;else if(h=Math.ceil((s+1)/b),o=f.length,h>=o)if(r){for(;o++<=h;)f.push(0);d=c=0,i=1,s%=b,a=s-b+1}else break e;else{for(d=o=f[h],i=1;o>=10;o/=10)i++;s%=b,a=s-b+i,c=a<0?0:d/A(10,i-a-1)%10|0}if(r=r||e<0||f[h+1]!==void 0||(a<0?d:d%A(10,i-a-1)),u=n<4?(c||r)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||r||n==6&&(s>0?a>0?d/A(10,i-a):0:f[h-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])return f.length=0,u?(e-=t.e+1,f[0]=A(10,(b-e%b)%b),t.e=-e||0):f[0]=t.e=0,t;if(s==0?(f.length=h,o=1,h--):(f.length=h+1,o=A(10,b-s),f[h]=a>0?(d/A(10,i-a)%A(10,a)|0)*o:0),u)for(;;)if(h==0){for(s=1,a=f[0];a>=10;a/=10)s++;for(a=f[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(t.e++,f[0]==Q&&(f[0]=1));break}else{if(f[h]+=o,f[h]!=Q)break;f[h--]=0,o=1}for(s=f.length;f[--s]===0;)f.pop()}return T&&(t.e>_.maxE?(t.d=null,t.e=NaN):t.e<_.minE&&(t.e=0,t.d=[0])),t}l(w,"finalise");function ne(t,e,n){if(!t.isFinite())return Ft(t);var r,i=t.e,s=$(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+le(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+le(-i-1)+s,n&&(r=n-a)>0&&(s+=le(r))):i>=a?(s+=le(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+le(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=le(r))),s}l(ne,"finiteToString");function ot(t,e){var n=t[0];for(e*=b;n>=10;n/=10)e++;return e}l(ot,"getBase10Exponent");function st(t,e,n){if(e>Rn)throw T=!0,n&&(t.precision=n),Error(Vt);return w(new t(rt),e,1,!0)}l(st,"getLn10");function X(t,e,n){if(e>kt)throw Error(Vt);return w(new t(it),e,n,!0)}l(X,"getPi");function Ut(t){var e=t.length-1,n=e*b+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}l(Ut,"getPrecision");function le(t){for(var e="";t--;)e+="0";return e}l(le,"getZeroString");function zt(t,e,n,r){var i,s=new t(1),a=Math.ceil(r/b+4);for(T=!1;;){if(n%2&&(s=s.times(e),$t(s.d,a)&&(i=!0)),n=V(n/2),n===0){n=s.d.length-1,i&&s.d[n]===0&&++s.d[n];break}e=e.times(e),$t(e.d,a)}return T=!0,s}l(zt,"intPow");function At(t){return t.d[t.d.length-1]&1}l(At,"isOdd");function Wt(t,e,n){for(var r,i=new t(e[0]),s=0;++s<e.length;)if(r=new t(e[s]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}l(Wt,"maxOrMin");function xt(t,e){var n,r,i,s,a,o,c,u=0,d=0,f=0,h=t.constructor,_=h.rounding,M=h.precision;if(!t.d||!t.d[0]||t.e>17)return new h(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(T=!1,c=M):c=e,o=new h(.03125);t.e>-2;)t=t.times(o),f+=5;for(r=Math.log(A(2,f))/Math.LN10*2+5|0,c+=r,n=s=a=new h(1),h.precision=c;;){if(s=w(s.times(t),c,1),n=n.times(++d),o=a.plus(R(s,n,c,1)),$(o.d).slice(0,c)===$(a.d).slice(0,c)){for(i=f;i--;)a=w(a.times(a),c,1);if(e==null)if(u<3&&ze(a.d,c-r,_,u))h.precision=c+=10,n=s=o=new h(1),d=0,u++;else return w(a,h.precision=M,_,T=!0);else return h.precision=M,a}a=o}}l(xt,"naturalExponential");function de(t,e){var n,r,i,s,a,o,c,u,d,f,h,_=1,M=10,N=t,B=N.d,j=N.constructor,J=j.rounding,I=j.precision;if(N.s<0||!B||!B[0]||!N.e&&B[0]==1&&B.length==1)return new j(B&&!B[0]?-1/0:N.s!=1?NaN:B?0:N);if(e==null?(T=!1,d=I):d=e,j.precision=d+=M,n=$(B),r=n.charAt(0),Math.abs(s=N.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)N=N.times(t),n=$(N.d),r=n.charAt(0),_++;s=N.e,r>1?(N=new j("0."+n),s++):N=new j(r+"."+n.slice(1))}else return u=st(j,d+2,I).times(s+""),N=de(new j(r+"."+n.slice(1)),d-M).plus(u),j.precision=I,e==null?w(N,I,J,T=!0):N;for(f=N,c=a=N=R(N.minus(1),N.plus(1),d,1),h=w(N.times(N),d,1),i=3;;){if(a=w(a.times(h),d,1),u=c.plus(R(a,new j(i),d,1)),$(u.d).slice(0,d)===$(c.d).slice(0,d))if(c=c.times(2),s!==0&&(c=c.plus(st(j,d+2,I).times(s+""))),c=R(c,new j(_),d,1),e==null)if(ze(c.d,d-M,J,o))j.precision=d+=M,u=a=N=R(f.minus(1),f.plus(1),d,1),h=w(N.times(N),d,1),i=o=1;else return w(c,j.precision=I,J,T=!0);else return j.precision=I,c;c=u,i+=2}}l(de,"naturalLogarithm");function Ft(t){return String(t.s*t.s/0)}l(Ft,"nonFiniteToString");function Tt(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%b,n<0&&(r+=b),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=b;r<i;)t.d.push(+e.slice(r,r+=b));e=e.slice(r),r=b-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),T&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}l(Tt,"parseDecimal");function jn(t,e){var n,r,i,s,a,o,c,u,d;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),qt.test(e))return Tt(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Cn.test(e))n=16,e=e.toLowerCase();else if(On.test(e))n=2;else if(Mn.test(e))n=8;else throw Error(fe+e);for(s=e.search(/p/i),s>0?(c=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),a=s>=0,r=t.constructor,a&&(e=e.replace(".",""),o=e.length,s=o-s,i=zt(r,new r(n),s,s*2)),u=nt(e,n,Q),d=u.length-1,s=d;u[s]===0;--s)u.pop();return s<0?new r(t.s*0):(t.e=ot(u,d),t.d=u,T=!1,a&&(t=R(t,i,o*4)),c&&(t=t.times(Math.abs(c)<54?A(2,c):We.pow(2,c))),T=!0,t)}l(jn,"parseOther");function An(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:je(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:n|0,e=e.times(1/ut(5,n)),e=je(t,2,e,e);for(var i,s=new t(5),a=new t(16),o=new t(20);n--;)i=e.times(e),e=e.times(s.plus(i.times(a.times(i).minus(o))));return e}l(An,"sine");function je(t,e,n,r,i){var s,a,o,c,u=1,d=t.precision,f=Math.ceil(d/b);for(T=!1,c=n.times(n),o=new t(r);;){if(a=R(o.times(c),new t(e++*e++),d,1),o=i?r.plus(a):r.minus(a),r=R(a.times(c),new t(e++*e++),d,1),a=o.plus(r),a.d[f]!==void 0){for(s=f;a.d[s]===o.d[s]&&s--;);if(s==-1)break}s=o,o=r,r=a,a=s,u++}return T=!0,a.d.length=f+1,a}l(je,"taylorSeries");function ut(t,e){for(var n=t;--e;)n*=t;return n}l(ut,"tinyPow");function Ht(t,e){var n,r=e.s<0,i=X(t,t.precision,1),s=i.times(.5);if(e=e.abs(),e.lte(s))return ae=r?4:1,e;if(n=e.divToInt(i),n.isZero())ae=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(s))return ae=At(n)?r?2:3:r?4:1,e;ae=At(n)?r?1:4:r?3:2}return e.minus(i).abs()}l(Ht,"toLessThanHalfPi");function Nt(t,e,n,r){var i,s,a,o,c,u,d,f,h,_=t.constructor,M=n!==void 0;if(M?(U(n,1,he),r===void 0?r=_.rounding:U(r,0,8)):(n=_.precision,r=_.rounding),!t.isFinite())d=Ft(t);else{for(d=ne(t),a=d.indexOf("."),M?(i=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):i=e,a>=0&&(d=d.replace(".",""),h=new _(1),h.e=d.length-a,h.d=nt(ne(h),10,i),h.e=h.d.length),f=nt(d,10,i),s=c=f.length;f[--c]==0;)f.pop();if(!f[0])d=M?"0p+0":"0";else{if(a<0?s--:(t=new _(t),t.d=f,t.e=s,t=R(t,h,n,r,0,i),f=t.d,s=t.e,u=Dt),a=f[n],o=i/2,u=u||f[n+1]!==void 0,u=r<4?(a!==void 0||u)&&(r===0||r===(t.s<0?3:2)):a>o||a===o&&(r===4||u||r===6&&f[n-1]&1||r===(t.s<0?8:7)),f.length=n,u)for(;++f[--n]>i-1;)f[n]=0,n||(++s,f.unshift(1));for(c=f.length;!f[c-1];--c);for(a=0,d="";a<c;a++)d+=wt.charAt(f[a]);if(M){if(c>1)if(e==16||e==8){for(a=e==16?4:3,--c;c%a;c++)d+="0";for(f=nt(d,i,e),c=f.length;!f[c-1];--c);for(a=1,d="1.";a<c;a++)d+=wt.charAt(f[a])}else d=d.charAt(0)+"."+d.slice(1);d=d+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)d="0"+d;d="0."+d}else if(++s>c)for(s-=c;s--;)d+="0";else s<c&&(d=d.slice(0,s)+"."+d.slice(s))}d=(e==16?"0x":e==2?"0b":e==8?"0o":"")+d}return t.s<0?"-"+d:d}l(Nt,"toStringBinary");function $t(t,e){if(t.length>e)return t.length=e,!0}l($t,"truncate");function $n(t){return new this(t).abs()}l($n,"abs");function Pn(t){return new this(t).acos()}l(Pn,"acos");function Dn(t){return new this(t).acosh()}l(Dn,"acosh");function Vn(t,e){return new this(t).plus(e)}l(Vn,"add");function Ln(t){return new this(t).asin()}l(Ln,"asin");function Bn(t){return new this(t).asinh()}l(Bn,"asinh");function qn(t){return new this(t).atan()}l(qn,"atan");function Un(t){return new this(t).atanh()}l(Un,"atanh");function zn(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,s=r+4;return!t.s||!e.s?n=new this(NaN):!t.d&&!e.d?(n=X(this,s,1).times(e.s>0?.25:.75),n.s=t.s):!e.d||t.isZero()?(n=e.s<0?X(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=X(this,s,1).times(.5),n.s=t.s):e.s<0?(this.precision=s,this.rounding=1,n=this.atan(R(t,e,s,1)),e=X(this,s,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(R(t,e,s,1)),n}l(zn,"atan2");function Wn(t){return new this(t).cbrt()}l(Wn,"cbrt");function Fn(t){return w(t=new this(t),t.e+1,2)}l(Fn,"ceil");function Hn(t,e,n){return new this(t).clamp(e,n)}l(Hn,"clamp");function Gn(t){if(!t||typeof t!="object")throw Error(at+"Object expected");var e,n,r,i=t.defaults===!0,s=["precision",1,he,"rounding",0,8,"toExpNeg",-Ze,0,"toExpPos",0,Ze,"maxE",0,Ze,"minE",-Ze,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(n=s[e],i&&(this[n]=bt[n]),(r=t[n])!==void 0)if(V(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(fe+n+": "+r);if(n="crypto",i&&(this[n]=bt[n]),(r=t[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Lt);else this[n]=!1;else throw Error(fe+n+": "+r);return this}l(Gn,"config");function Kn(t){return new this(t).cos()}l(Kn,"cos");function Jn(t){return new this(t).cosh()}l(Jn,"cosh");function Gt(t){var e,n,r;function i(s){var a,o,c,u=this;if(!(u instanceof i))return new i(s);if(u.constructor=i,Pt(s)){u.s=s.s,T?!s.d||s.e>i.maxE?(u.e=NaN,u.d=null):s.e<i.minE?(u.e=0,u.d=[0]):(u.e=s.e,u.d=s.d.slice()):(u.e=s.e,u.d=s.d?s.d.slice():s.d);return}if(c=typeof s,c==="number"){if(s===0){u.s=1/s<0?-1:1,u.e=0,u.d=[0];return}if(s<0?(s=-s,u.s=-1):u.s=1,s===~~s&&s<1e7){for(a=0,o=s;o>=10;o/=10)a++;T?a>i.maxE?(u.e=NaN,u.d=null):a<i.minE?(u.e=0,u.d=[0]):(u.e=a,u.d=[s]):(u.e=a,u.d=[s]);return}else if(s*0!==0){s||(u.s=NaN),u.e=NaN,u.d=null;return}return Tt(u,s.toString())}else if(c!=="string")throw Error(fe+s);return(o=s.charCodeAt(0))===45?(s=s.slice(1),u.s=-1):(o===43&&(s=s.slice(1)),u.s=1),qt.test(s)?Tt(u,s):jn(u,s)}if(l(i,"Decimal"),i.prototype=p,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Gn,i.clone=Gt,i.isDecimal=Pt,i.abs=$n,i.acos=Pn,i.acosh=Dn,i.add=Vn,i.asin=Ln,i.asinh=Bn,i.atan=qn,i.atanh=Un,i.atan2=zn,i.cbrt=Wn,i.ceil=Fn,i.clamp=Hn,i.cos=Kn,i.cosh=Jn,i.div=Yn,i.exp=Xn,i.floor=Qn,i.hypot=er,i.ln=tr,i.log=nr,i.log10=ir,i.log2=rr,i.max=sr,i.min=ar,i.mod=or,i.mul=ur,i.pow=cr,i.random=lr,i.round=dr,i.sign=fr,i.sin=hr,i.sinh=pr,i.sqrt=mr,i.sub=gr,i.sum=vr,i.tan=_r,i.tanh=yr,i.trunc=wr,t===void 0&&(t={}),t&&t.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}l(Gt,"clone");function Yn(t,e){return new this(t).div(e)}l(Yn,"div");function Xn(t){return new this(t).exp()}l(Xn,"exp");function Qn(t){return w(t=new this(t),t.e+1,3)}l(Qn,"floor");function er(){var t,e,n=new this(0);for(T=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return T=!0,new this(1/0);n=e}return T=!0,n.sqrt()}l(er,"hypot");function Pt(t){return t instanceof We||t&&t.toStringTag===Bt||!1}l(Pt,"isDecimalInstance");function tr(t){return new this(t).ln()}l(tr,"ln");function nr(t,e){return new this(t).log(e)}l(nr,"log");function rr(t){return new this(t).log(2)}l(rr,"log2");function ir(t){return new this(t).log(10)}l(ir,"log10");function sr(){return Wt(this,arguments,"lt")}l(sr,"max");function ar(){return Wt(this,arguments,"gt")}l(ar,"min");function or(t,e){return new this(t).mod(e)}l(or,"mod");function ur(t,e){return new this(t).mul(e)}l(ur,"mul");function cr(t,e){return new this(t).pow(e)}l(cr,"pow");function lr(t){var e,n,r,i,s=0,a=new this(1),o=[];if(t===void 0?t=this.precision:U(t,1,he),r=Math.ceil(t/b),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));s<r;)i=e[s],i>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);s<r;)i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((e[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,s):(o.push(i%1e7),s+=4);s=r/4}else throw Error(Lt);else for(;s<r;)o[s++]=Math.random()*1e7|0;for(r=o[--s],t%=b,r&&t&&(i=A(10,b-t),o[s]=(r/i|0)*i);o[s]===0;s--)o.pop();if(s<0)n=0,o=[0];else{for(n=-1;o[0]===0;n-=b)o.shift();for(r=1,i=o[0];i>=10;i/=10)r++;r<b&&(n-=b-r)}return a.e=n,a.d=o,a}l(lr,"random");function dr(t){return w(t=new this(t),t.e+1,this.rounding)}l(dr,"round");function fr(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}l(fr,"sign");function hr(t){return new this(t).sin()}l(hr,"sin");function pr(t){return new this(t).sinh()}l(pr,"sinh");function mr(t){return new this(t).sqrt()}l(mr,"sqrt");function gr(t,e){return new this(t).sub(e)}l(gr,"sub");function vr(){var t=0,e=arguments,n=new this(e[t]);for(T=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return T=!0,w(n,this.precision,this.rounding)}l(vr,"sum");function _r(t){return new this(t).tan()}l(_r,"tan");function yr(t){return new this(t).tanh()}l(yr,"tanh");function wr(t){return w(t=new this(t),t.e+1,1)}l(wr,"trunc");p[Symbol.for("nodejs.util.inspect.custom")]=p.toString;p[Symbol.toStringTag]="Decimal";var We=p.constructor=Gt(bt);rt=new We(rt);it=new We(it);var St=We;function ct(t,e){if(!t)throw new Error(e??"Failed assertion")}l(ct,"assert");var Kt=class t{static{l(this,"GeneralBank")}bank;allowedKeys;validator;valueSchema;constructor({allowedKeys:e,validator:n,initialBank:r,valueSchema:i}={}){if(this.bank=r??{},this.allowedKeys=e?new Set(e):void 0,this.validator=n,this.valueSchema=i??{min:1,max:Number.MAX_SAFE_INTEGER,floats:!1},this.valueSchema.min<0)throw new Error("Value schema min must be non-negative.");if(this.valueSchema.max<this.valueSchema.min)throw new Error("Value schema max must be greater than min.");this.validate()}get _bank(){return this.bank}clone(){return new t({allowedKeys:this.allowedKeys?Array.from(this.allowedKeys):void 0,validator:this.validator,initialBank:{...this.bank},valueSchema:this.valueSchema})}validate(){for(let e of Object.keys(this.bank)){let n=this.bank[e];if(this.allowedKeys&&(typeof Array.from(this.allowedKeys.values())[0]=="number"&&(e=Number.parseInt(e)),!this.allowedKeys.has(e)))throw new Error(`Key ${e} (${typeof e}) is not allowed, only these are allowed: ${Array.from(this.allowedKeys).join(", ")}`);ct(typeof n=="number"&&n>=this.valueSchema.min&&n<=this.valueSchema.max,`Invalid value (not within minmax ${this.valueSchema.min}-${this.valueSchema.max}) for ${e}: ${n}`),this.valueSchema.floats||ct(Number.isInteger(n),`Value for ${e} is not an integer: ${n}`),this.validator?.(e,n,this.bank)}}entries(){return Object.entries(this.bank)}length(){return Object.keys(this.bank).length}amount(e){return this.bank[e]??0}has(e){return this.amount(e)>=1}toString(){let e=Object.entries(this.bank);return e.length===0?"Bank is empty":e.map(([n,r])=>`${n}: ${r}`).join(", ")}addItem(e,n){ct(n>=0,"Quantity must be non-negative.");let r=St.add(this.amount(e),n).toNumber();if(r>this.valueSchema.max)throw new Error(`Value for ${e} exceeds the maximum of ${this.valueSchema.max}.`);return this.bank[e]=r,this.validate(),this}removeItem(e,n){ct(n>=0,"Quantity must be non-negative.");let r=this.amount(e);if(r<n)throw new Error(`Not enough ${e} to remove.`);let i=St.sub(r,n).toNumber();return this.bank[e]=i,i===0&&delete this.bank[e],this.validate(),this}add(e,n=1){if(e instanceof t)for(let[r,i]of e.entries())this.addItem(r,i);else this.addItem(e,n);return this}remove(e,n=1){if(e instanceof t)for(let[r,i]of Object.entries(e.bank))this.removeItem(r,i);else this.removeItem(e,n);return this}};var nn=jt(Et());var tn=class{static{l(this,"SimpleTable")}length;table;totalWeight;constructor(){this.table=[],this.length=0,this.totalWeight=0}add(e,n=1){return this.length+=1,this.totalWeight+=n,this.table.push({item:e,weight:n}),this}delete(e){let n=this.table.find(r=>r.item===e);if(!n)throw new Error(`${e} doesn't exist in this SimpleTable.`);return this.length-=1,this.totalWeight-=n.weight,this.table=this.table.filter(r=>r!==n),this}roll(){let e=(0,nn.randInt)(1,this.totalWeight),n=-1,r=0;for(let s=0;s<this.table.length;s++){let a=this.table[s];if(r+=a.weight,e<=r){n=s;break}}return this.table[n]?.item??null}rollOrThrow(){let e=this.roll();if(e===null)throw new Error("Received null from SimpleTable, but expect not-null.");return e}};var rn=class extends Error{static{l(this,"UserError")}constructor(e){super(e),Error.captureStackTrace(this,this.constructor)}};var br=jt(Et());function sn(t,e=!1,n=!1){t<0&&(t=-t);let r={day:Math.floor(t/864e5),hour:Math.floor(t/36e5)%24,minute:Math.floor(t/6e4)%60,second:Math.floor(t/1e3)%60},i={d:Math.floor(t/864e5),h:Math.floor(t/36e5)%24,m:Math.floor(t/6e4)%60,s:Math.floor(t/1e3)%60},s=Object.entries(e?i:r).filter(a=>a[1]!==0);return s.length===0?n?`${t}ms`:"less than 1 second":s.map(([a,o])=>`${o}${e?"":" "}${a}${o===1||e?"":"s"}`).join(e?"":", ")}l(sn,"formatDuration");var an=class{static{l(this,"Stopwatch")}digits;#e;#t;constructor(e=2){this.digits=e,this.#e=performance.now(),this.#t=null}get duration(){return this.#t?this.#t-this.#e:performance.now()-this.#e}get running(){return!this.#t}restart(){return this.#e=performance.now(),this.#t=null,this}reset(){return this.#e=performance.now(),this.#t=this.#e,this}start(){return this.running||(this.#e=performance.now()-this.duration,this.#t=null),this}stop(e){return this.running&&(this.#t=performance.now()),e&&console.log(`${this.toString()}: ${e}`),this}toString(){let e=this.duration;return e>=1e3?`${(e/1e3).toFixed(this.digits)}s`:e>=1?`${e.toFixed(this.digits)}ms`:`${(e*1e3).toFixed(this.digits)}\u03BCs`}lastCheckpoint=null;check(e){let n=performance.now()-(this.lastCheckpoint??this.#e),r=n>0?`${sn(n,!0,!0)}`:"";console.log(`${this.toString()}: ${e} in ${r}`),this.lastCheckpoint=performance.now()}};import Ti from"ioredis";var C;(function(t){t.assertEqual=i=>i;function e(i){}l(e,"assertIs"),t.assertIs=e;function n(i){throw new Error}l(n,"assertNever"),t.assertNever=n,t.arrayToEnum=i=>{let s={};for(let a of i)s[a]=a;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(let o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(let a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}l(r,"joinValues"),t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(C||(C={}));var Ct;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ct||(Ct={}));var v=C.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),pe=l(t=>{switch(typeof t){case"undefined":return v.undefined;case"string":return v.string;case"number":return isNaN(t)?v.nan:v.number;case"boolean":return v.boolean;case"function":return v.function;case"bigint":return v.bigint;case"symbol":return v.symbol;case"object":return Array.isArray(t)?v.array:t===null?v.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?v.promise:typeof Map<"u"&&t instanceof Map?v.map:typeof Set<"u"&&t instanceof Set?v.set:typeof Date<"u"&&t instanceof Date?v.date:v.object;default:return v.unknown}},"getParsedType"),m=C.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),kr=l(t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),"quotelessJson"),F=class t extends Error{static{l(this,"ZodError")}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let n=e||function(s){return s.message},r={_errors:[]},i=l(s=>{for(let a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,c=0;for(;c<a.path.length;){let u=a.path[c];c===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(a))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}},"processError");return i(this),r}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,C.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){let n={},r=[];for(let i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};F.create=t=>new F(t);var Pe=l((t,e)=>{let n;switch(t.code){case m.invalid_type:t.received===v.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case m.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,C.jsonStringifyReplacer)}`;break;case m.unrecognized_keys:n=`Unrecognized key(s) in object: ${C.joinValues(t.keys,", ")}`;break;case m.invalid_union:n="Invalid input";break;case m.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${C.joinValues(t.options)}`;break;case m.invalid_enum_value:n=`Invalid enum value. Expected ${C.joinValues(t.options)}, received '${t.received}'`;break;case m.invalid_arguments:n="Invalid function arguments";break;case m.invalid_return_type:n="Invalid function return type";break;case m.invalid_date:n="Invalid date";break;case m.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:C.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case m.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case m.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case m.custom:n="Invalid input";break;case m.invalid_intersection_types:n="Intersection results could not be merged";break;case m.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case m.not_finite:n="Number must be finite";break;default:n=e.defaultError,C.assertNever(t)}return{message:n}},"errorMap"),cn=Pe;function xr(t){cn=t}l(xr,"setErrorMap");function lt(){return cn}l(lt,"getErrorMap");var dt=l(t=>{let{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="",c=r.filter(u=>!!u).slice().reverse();for(let u of c)o=u(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}},"makeIssue"),Tr=[];function g(t,e){let n=lt(),r=dt({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Pe?void 0:Pe].filter(i=>!!i)});t.common.issues.push(r)}l(g,"addIssueToContext");var L=class t{static{l(this,"ParseStatus")}constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){let r=[];for(let i of n){if(i.status==="aborted")return x;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){let r=[];for(let i of n){let s=await i.key,a=await i.value;r.push({key:s,value:a})}return t.mergeObjectSync(e,r)}static mergeObjectSync(e,n){let r={};for(let i of n){let{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return x;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}},x=Object.freeze({status:"aborted"}),$e=l(t=>({status:"dirty",value:t}),"DIRTY"),q=l(t=>({status:"valid",value:t}),"OK"),Mt=l(t=>t.status==="aborted","isAborted"),It=l(t=>t.status==="dirty","isDirty"),Ge=l(t=>t.status==="valid","isValid"),Ke=l(t=>typeof Promise<"u"&&t instanceof Promise,"isAsync");function ft(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}l(ft,"__classPrivateFieldGet");function ln(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}l(ln,"__classPrivateFieldSet");var y;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(y||(y={}));var Fe,He,K=class{static{l(this,"ParseInputLazyPath")}constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},on=l((t,e)=>{if(Ge(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new F(t.common.issues);return this._error=n,this._error}}},"handleResult");function S(t){if(!t)return{};let{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:l((a,o)=>{var c,u;let{message:d}=t;return a.code==="invalid_enum_value"?{message:d??o.defaultError}:typeof o.data>"u"?{message:(c=d??r)!==null&&c!==void 0?c:o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:o.defaultError}},"customMap"),description:i}}l(S,"processCreateParams");var E=class{static{l(this,"ZodType")}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return pe(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:pe(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new L,ctx:{common:e.parent.common,data:e.data,parsedType:pe(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let n=this._parse(e);if(Ke(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){let n=this._parse(e);return Promise.resolve(n)}parse(e,n){let r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;let i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pe(e)},s=this._parseSync({data:e,path:i.path,parent:i});return on(i,s)}async parseAsync(e,n){let r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){let r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pe(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Ke(i)?i:Promise.resolve(i));return on(r,s)}refine(e,n){let r=l(i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n,"getIssueProperties");return this._refinement((i,s)=>{let a=e(i),o=l(()=>s.addIssue({code:m.custom,...r(i)}),"setError");return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new H({schema:this,typeName:k.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return G.create(this,this._def)}nullable(){return ie.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ce.create(this,this._def)}promise(){return ve.create(this,this._def)}or(e){return Te.create([this,e],this._def)}and(e){return Ne.create(this,e,this._def)}transform(e){return new H({...S(this._def),schema:this,typeName:k.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let n=typeof e=="function"?e:()=>e;return new Me({...S(this._def),innerType:this,defaultValue:n,typeName:k.ZodDefault})}brand(){return new Je({typeName:k.ZodBranded,type:this,...S(this._def)})}catch(e){let n=typeof e=="function"?e:()=>e;return new Ie({...S(this._def),innerType:this,catchValue:n,typeName:k.ZodCatch})}describe(e){let n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ye.create(this,e)}readonly(){return Re.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Nr=/^c[^\s-]{8,}$/i,Sr=/^[0-9a-z]+$/,Er=/^[0-9A-HJKMNP-TV-Z]{26}$/,Or=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Cr=/^[a-z0-9_-]{21}$/i,Mr=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ir=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Rr="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Ot,Zr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jr=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ar=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,dn="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$r=new RegExp(`^${dn}$`);function fn(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}l(fn,"timeRegexSource");function Pr(t){return new RegExp(`^${fn(t)}$`)}l(Pr,"timeRegex");function hn(t){let e=`${dn}T${fn(t)}`,n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}l(hn,"datetimeRegex");function Dr(t,e){return!!((e==="v4"||!e)&&Zr.test(t)||(e==="v6"||!e)&&jr.test(t))}l(Dr,"isValidIP");var me=class t extends E{static{l(this,"ZodString")}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==v.string){let s=this._getOrReturnCtx(e);return g(s,{code:m.invalid_type,expected:v.string,received:s.parsedType}),x}let r=new L,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:m.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:m.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){let a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?g(i,{code:m.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&g(i,{code:m.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Ir.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"email",code:m.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Ot||(Ot=new RegExp(Rr,"u")),Ot.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"emoji",code:m.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Or.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"uuid",code:m.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Cr.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"nanoid",code:m.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Nr.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"cuid",code:m.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")Sr.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"cuid2",code:m.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")Er.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"ulid",code:m.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),g(i,{validation:"url",code:m.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"regex",code:m.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),g(i,{code:m.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),g(i,{code:m.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),g(i,{code:m.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?hn(s).test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{code:m.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?$r.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{code:m.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Pr(s).test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{code:m.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Mr.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"duration",code:m.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Dr(e.data,s.version)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"ip",code:m.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Ar.test(e.data)||(i=this._getOrReturnCtx(e,i),g(i,{validation:"base64",code:m.invalid_string,message:s.message}),r.dirty()):C.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:m.invalid_string,...y.errToObj(r)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...y.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...y.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...y.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...y.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...y.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...y.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...y.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...y.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...y.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...y.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...y.errToObj(n)})}nonempty(e){return this.min(1,y.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}};me.create=t=>{var e;return new me({checks:[],typeName:k.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...S(t)})};function Vr(t,e){let n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return s%a/Math.pow(10,i)}l(Vr,"floatSafeRemainder");var _e=class t extends E{static{l(this,"ZodNumber")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==v.number){let s=this._getOrReturnCtx(e);return g(s,{code:m.invalid_type,expected:v.number,received:s.parsedType}),x}let r,i=new L;for(let s of this._def.checks)s.kind==="int"?C.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:m.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Vr(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),g(r,{code:m.not_finite,message:s.message}),i.dirty()):C.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,y.toString(n))}gt(e,n){return this.setLimit("min",e,!1,y.toString(n))}lte(e,n){return this.setLimit("max",e,!0,y.toString(n))}lt(e,n){return this.setLimit("max",e,!1,y.toString(n))}setLimit(e,n,r,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:y.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:y.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:y.toString(e)})}get minValue(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&C.isInteger(e.value))}get isFinite(){let e=null,n=null;for(let r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}};_e.create=t=>new _e({checks:[],typeName:k.ZodNumber,coerce:t?.coerce||!1,...S(t)});var ye=class t extends E{static{l(this,"ZodBigInt")}constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==v.bigint){let s=this._getOrReturnCtx(e);return g(s,{code:m.invalid_type,expected:v.bigint,received:s.parsedType}),x}let r,i=new L;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),g(r,{code:m.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):C.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,y.toString(n))}gt(e,n){return this.setLimit("min",e,!1,y.toString(n))}lte(e,n){return this.setLimit("max",e,!0,y.toString(n))}lt(e,n){return this.setLimit("max",e,!1,y.toString(n))}setLimit(e,n,r,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:y.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:y.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(n)})}get minValue(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}};ye.create=t=>{var e;return new ye({checks:[],typeName:k.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...S(t)})};var we=class extends E{static{l(this,"ZodBoolean")}_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==v.boolean){let r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.boolean,received:r.parsedType}),x}return q(e.data)}};we.create=t=>new we({typeName:k.ZodBoolean,coerce:t?.coerce||!1,...S(t)});var be=class t extends E{static{l(this,"ZodDate")}_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==v.date){let s=this._getOrReturnCtx(e);return g(s,{code:m.invalid_type,expected:v.date,received:s.parsedType}),x}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return g(s,{code:m.invalid_date}),x}let r=new L,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:m.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),g(i,{code:m.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):C.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:y.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:y.toString(n)})}get minDate(){let e=null;for(let n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}};be.create=t=>new be({checks:[],coerce:t?.coerce||!1,typeName:k.ZodDate,...S(t)});var De=class extends E{static{l(this,"ZodSymbol")}_parse(e){if(this._getType(e)!==v.symbol){let r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.symbol,received:r.parsedType}),x}return q(e.data)}};De.create=t=>new De({typeName:k.ZodSymbol,...S(t)});var ke=class extends E{static{l(this,"ZodUndefined")}_parse(e){if(this._getType(e)!==v.undefined){let r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.undefined,received:r.parsedType}),x}return q(e.data)}};ke.create=t=>new ke({typeName:k.ZodUndefined,...S(t)});var xe=class extends E{static{l(this,"ZodNull")}_parse(e){if(this._getType(e)!==v.null){let r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.null,received:r.parsedType}),x}return q(e.data)}};xe.create=t=>new xe({typeName:k.ZodNull,...S(t)});var ge=class extends E{static{l(this,"ZodAny")}constructor(){super(...arguments),this._any=!0}_parse(e){return q(e.data)}};ge.create=t=>new ge({typeName:k.ZodAny,...S(t)});var ue=class extends E{static{l(this,"ZodUnknown")}constructor(){super(...arguments),this._unknown=!0}_parse(e){return q(e.data)}};ue.create=t=>new ue({typeName:k.ZodUnknown,...S(t)});var ee=class extends E{static{l(this,"ZodNever")}_parse(e){let n=this._getOrReturnCtx(e);return g(n,{code:m.invalid_type,expected:v.never,received:n.parsedType}),x}};ee.create=t=>new ee({typeName:k.ZodNever,...S(t)});var Ve=class extends E{static{l(this,"ZodVoid")}_parse(e){if(this._getType(e)!==v.undefined){let r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.void,received:r.parsedType}),x}return q(e.data)}};Ve.create=t=>new Ve({typeName:k.ZodVoid,...S(t)});var ce=class t extends E{static{l(this,"ZodArray")}_parse(e){let{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==v.array)return g(n,{code:m.invalid_type,expected:v.array,received:n.parsedType}),x;if(i.exactLength!==null){let a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(g(n,{code:a?m.too_big:m.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(g(n,{code:m.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(g(n,{code:m.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new K(n,a,n.path,o)))).then(a=>L.mergeArray(r,a));let s=[...n.data].map((a,o)=>i.type._parseSync(new K(n,a,n.path,o)));return L.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new t({...this._def,minLength:{value:e,message:y.toString(n)}})}max(e,n){return new t({...this._def,maxLength:{value:e,message:y.toString(n)}})}length(e,n){return new t({...this._def,exactLength:{value:e,message:y.toString(n)}})}nonempty(e){return this.min(1,e)}};ce.create=(t,e)=>new ce({type:t,minLength:null,maxLength:null,exactLength:null,typeName:k.ZodArray,...S(e)});function Ae(t){if(t instanceof W){let e={};for(let n in t.shape){let r=t.shape[n];e[n]=G.create(Ae(r))}return new W({...t._def,shape:l(()=>e,"shape")})}else return t instanceof ce?new ce({...t._def,type:Ae(t.element)}):t instanceof G?G.create(Ae(t.unwrap())):t instanceof ie?ie.create(Ae(t.unwrap())):t instanceof re?re.create(t.items.map(e=>Ae(e))):t}l(Ae,"deepPartialify");var W=class t extends E{static{l(this,"ZodObject")}constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),n=C.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==v.object){let u=this._getOrReturnCtx(e);return g(u,{code:m.invalid_type,expected:v.object,received:u.parsedType}),x}let{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof ee&&this._def.unknownKeys==="strip"))for(let u in i.data)a.includes(u)||o.push(u);let c=[];for(let u of a){let d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new K(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ee){let u=this._def.unknownKeys;if(u==="passthrough")for(let d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(g(i,{code:m.unrecognized_keys,keys:o}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let u=this._def.catchall;for(let d of o){let f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new K(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let u=[];for(let d of c){let f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>L.mergeObjectSync(r,u)):L.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return y.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:l((n,r)=>{var i,s,a,o;let c=(a=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&a!==void 0?a:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=y.errToObj(e).message)!==null&&o!==void 0?o:c}:{message:c}},"errorMap")}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:l(()=>({...this._def.shape(),...e}),"shape")})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:l(()=>({...this._def.shape(),...e._def.shape()}),"shape"),typeName:k.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let n={};return C.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new t({...this._def,shape:l(()=>n,"shape")})}omit(e){let n={};return C.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new t({...this._def,shape:l(()=>n,"shape")})}deepPartial(){return Ae(this)}partial(e){let n={};return C.objectKeys(this.shape).forEach(r=>{let i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new t({...this._def,shape:l(()=>n,"shape")})}required(e){let n={};return C.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof G;)s=s._def.innerType;n[r]=s}}),new t({...this._def,shape:l(()=>n,"shape")})}keyof(){return pn(C.objectKeys(this.shape))}};W.create=(t,e)=>new W({shape:l(()=>t,"shape"),unknownKeys:"strip",catchall:ee.create(),typeName:k.ZodObject,...S(e)});W.strictCreate=(t,e)=>new W({shape:l(()=>t,"shape"),unknownKeys:"strict",catchall:ee.create(),typeName:k.ZodObject,...S(e)});W.lazycreate=(t,e)=>new W({shape:t,unknownKeys:"strip",catchall:ee.create(),typeName:k.ZodObject,...S(e)});var Te=class extends E{static{l(this,"ZodUnion")}_parse(e){let{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(let o of s)if(o.result.status==="valid")return o.result;for(let o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;let a=s.map(o=>new F(o.ctx.common.issues));return g(n,{code:m.invalid_union,unionErrors:a}),x}if(l(i,"handleResults"),n.common.async)return Promise.all(r.map(async s=>{let a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s,a=[];for(let c of r){let u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;let o=a.map(c=>new F(c));return g(n,{code:m.invalid_union,unionErrors:o}),x}}get options(){return this._def.options}};Te.create=(t,e)=>new Te({options:t,typeName:k.ZodUnion,...S(e)});var oe=l(t=>t instanceof Se?oe(t.schema):t instanceof H?oe(t.innerType()):t instanceof Ee?[t.value]:t instanceof Oe?t.options:t instanceof Ce?C.objectValues(t.enum):t instanceof Me?oe(t._def.innerType):t instanceof ke?[void 0]:t instanceof xe?[null]:t instanceof G?[void 0,...oe(t.unwrap())]:t instanceof ie?[null,...oe(t.unwrap())]:t instanceof Je||t instanceof Re?oe(t.unwrap()):t instanceof Ie?oe(t._def.innerType):[],"getDiscriminator"),ht=class t extends E{static{l(this,"ZodDiscriminatedUnion")}_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==v.object)return g(n,{code:m.invalid_type,expected:v.object,received:n.parsedType}),x;let r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(g(n,{code:m.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),x)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){let i=new Map;for(let s of n){let a=oe(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of a){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,s)}}return new t({typeName:k.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...S(r)})}};function Rt(t,e){let n=pe(t),r=pe(e);if(t===e)return{valid:!0,data:t};if(n===v.object&&r===v.object){let i=C.objectKeys(e),s=C.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(let o of s){let c=Rt(t[o],e[o]);if(!c.valid)return{valid:!1};a[o]=c.data}return{valid:!0,data:a}}else if(n===v.array&&r===v.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let a=t[s],o=e[s],c=Rt(a,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===v.date&&r===v.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}l(Rt,"mergeValues");var Ne=class extends E{static{l(this,"ZodIntersection")}_parse(e){let{status:n,ctx:r}=this._processInputParams(e),i=l((s,a)=>{if(Mt(s)||Mt(a))return x;let o=Rt(s.value,a.value);return o.valid?((It(s)||It(a))&&n.dirty(),{status:n.value,value:o.data}):(g(r,{code:m.invalid_intersection_types}),x)},"handleParsed");return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};Ne.create=(t,e,n)=>new Ne({left:t,right:e,typeName:k.ZodIntersection,...S(n)});var re=class t extends E{static{l(this,"ZodTuple")}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.array)return g(r,{code:m.invalid_type,expected:v.array,received:r.parsedType}),x;if(r.data.length<this._def.items.length)return g(r,{code:m.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),x;!this._def.rest&&r.data.length>this._def.items.length&&(g(r,{code:m.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let s=[...r.data].map((a,o)=>{let c=this._def.items[o]||this._def.rest;return c?c._parse(new K(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>L.mergeArray(n,a)):L.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};re.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new re({items:t,typeName:k.ZodTuple,rest:null,...S(e)})};var pt=class t extends E{static{l(this,"ZodRecord")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.object)return g(r,{code:m.invalid_type,expected:v.object,received:r.parsedType}),x;let i=[],s=this._def.keyType,a=this._def.valueType;for(let o in r.data)i.push({key:s._parse(new K(r,o,r.path,o)),value:a._parse(new K(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?L.mergeObjectAsync(n,i):L.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof E?new t({keyType:e,valueType:n,typeName:k.ZodRecord,...S(r)}):new t({keyType:me.create(),valueType:e,typeName:k.ZodRecord,...S(n)})}},Le=class extends E{static{l(this,"ZodMap")}get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.map)return g(r,{code:m.invalid_type,expected:v.map,received:r.parsedType}),x;let i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,c],u)=>({key:i._parse(new K(r,o,r.path,[u,"key"])),value:s._parse(new K(r,c,r.path,[u,"value"]))}));if(r.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let c of a){let u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return x;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}})}else{let o=new Map;for(let c of a){let u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return x;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}}}};Le.create=(t,e,n)=>new Le({valueType:e,keyType:t,typeName:k.ZodMap,...S(n)});var Be=class t extends E{static{l(this,"ZodSet")}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==v.set)return g(r,{code:m.invalid_type,expected:v.set,received:r.parsedType}),x;let i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(g(r,{code:m.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(g(r,{code:m.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());let s=this._def.valueType;function a(c){let u=new Set;for(let d of c){if(d.status==="aborted")return x;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}l(a,"finalizeSet");let o=[...r.data.values()].map((c,u)=>s._parse(new K(r,c,r.path,u)));return r.common.async?Promise.all(o).then(c=>a(c)):a(o)}min(e,n){return new t({...this._def,minSize:{value:e,message:y.toString(n)}})}max(e,n){return new t({...this._def,maxSize:{value:e,message:y.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}};Be.create=(t,e)=>new Be({valueType:t,minSize:null,maxSize:null,typeName:k.ZodSet,...S(e)});var mt=class t extends E{static{l(this,"ZodFunction")}constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==v.function)return g(n,{code:m.invalid_type,expected:v.function,received:n.parsedType}),x;function r(o,c){return dt({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,lt(),Pe].filter(u=>!!u),issueData:{code:m.invalid_arguments,argumentsError:c}})}l(r,"makeArgsIssue");function i(o,c){return dt({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,lt(),Pe].filter(u=>!!u),issueData:{code:m.invalid_return_type,returnTypeError:c}})}l(i,"makeReturnsIssue");let s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof ve){let o=this;return q(async function(...c){let u=new F([]),d=await o._def.args.parseAsync(c,s).catch(_=>{throw u.addIssue(r(c,_)),u}),f=await Reflect.apply(a,this,d);return await o._def.returns._def.type.parseAsync(f,s).catch(_=>{throw u.addIssue(i(f,_)),u})})}else{let o=this;return q(function(...c){let u=o._def.args.safeParse(c,s);if(!u.success)throw new F([r(c,u.error)]);let d=Reflect.apply(a,this,u.data),f=o._def.returns.safeParse(d,s);if(!f.success)throw new F([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:re.create(e).rest(ue.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new t({args:e||re.create([]).rest(ue.create()),returns:n||ue.create(),typeName:k.ZodFunction,...S(r)})}},Se=class extends E{static{l(this,"ZodLazy")}get schema(){return this._def.getter()}_parse(e){let{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};Se.create=(t,e)=>new Se({getter:t,typeName:k.ZodLazy,...S(e)});var Ee=class extends E{static{l(this,"ZodLiteral")}_parse(e){if(e.data!==this._def.value){let n=this._getOrReturnCtx(e);return g(n,{received:n.data,code:m.invalid_literal,expected:this._def.value}),x}return{status:"valid",value:e.data}}get value(){return this._def.value}};Ee.create=(t,e)=>new Ee({value:t,typeName:k.ZodLiteral,...S(e)});function pn(t,e){return new Oe({values:t,typeName:k.ZodEnum,...S(e)})}l(pn,"createZodEnum");var Oe=class t extends E{static{l(this,"ZodEnum")}constructor(){super(...arguments),Fe.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let n=this._getOrReturnCtx(e),r=this._def.values;return g(n,{expected:C.joinValues(r),received:n.parsedType,code:m.invalid_type}),x}if(ft(this,Fe,"f")||ln(this,Fe,new Set(this._def.values),"f"),!ft(this,Fe,"f").has(e.data)){let n=this._getOrReturnCtx(e),r=this._def.values;return g(n,{received:n.data,code:m.invalid_enum_value,options:r}),x}return q(e.data)}get options(){return this._def.values}get enum(){let e={};for(let n of this._def.values)e[n]=n;return e}get Values(){let e={};for(let n of this._def.values)e[n]=n;return e}get Enum(){let e={};for(let n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return t.create(e,{...this._def,...n})}exclude(e,n=this._def){return t.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}};Fe=new WeakMap;Oe.create=pn;var Ce=class extends E{static{l(this,"ZodNativeEnum")}constructor(){super(...arguments),He.set(this,void 0)}_parse(e){let n=C.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==v.string&&r.parsedType!==v.number){let i=C.objectValues(n);return g(r,{expected:C.joinValues(i),received:r.parsedType,code:m.invalid_type}),x}if(ft(this,He,"f")||ln(this,He,new Set(C.getValidEnumValues(this._def.values)),"f"),!ft(this,He,"f").has(e.data)){let i=C.objectValues(n);return g(r,{received:r.data,code:m.invalid_enum_value,options:i}),x}return q(e.data)}get enum(){return this._def.values}};He=new WeakMap;Ce.create=(t,e)=>new Ce({values:t,typeName:k.ZodNativeEnum,...S(e)});var ve=class extends E{static{l(this,"ZodPromise")}unwrap(){return this._def.type}_parse(e){let{ctx:n}=this._processInputParams(e);if(n.parsedType!==v.promise&&n.common.async===!1)return g(n,{code:m.invalid_type,expected:v.promise,received:n.parsedType}),x;let r=n.parsedType===v.promise?n.data:Promise.resolve(n.data);return q(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}};ve.create=(t,e)=>new ve({type:t,typeName:k.ZodPromise,...S(e)});var H=class extends E{static{l(this,"ZodEffects")}innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===k.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:l(a=>{g(r,a),a.fatal?n.abort():n.dirty()},"addIssue"),get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){let a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return x;let c=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return c.status==="aborted"?x:c.status==="dirty"||n.value==="dirty"?$e(c.value):c});{if(n.value==="aborted")return x;let o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?x:o.status==="dirty"||n.value==="dirty"?$e(o.value):o}}if(i.type==="refinement"){let a=l(o=>{let c=i.refinement(o,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o},"executeRefinement");if(r.common.async===!1){let o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?x:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?x:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ge(a))return a;let o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Ge(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):a);C.assertNever(i)}};H.create=(t,e,n)=>new H({schema:t,typeName:k.ZodEffects,effect:e,...S(n)});H.createWithPreprocess=(t,e,n)=>new H({schema:e,effect:{type:"preprocess",transform:t},typeName:k.ZodEffects,...S(n)});var G=class extends E{static{l(this,"ZodOptional")}_parse(e){return this._getType(e)===v.undefined?q(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};G.create=(t,e)=>new G({innerType:t,typeName:k.ZodOptional,...S(e)});var ie=class extends E{static{l(this,"ZodNullable")}_parse(e){return this._getType(e)===v.null?q(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ie.create=(t,e)=>new ie({innerType:t,typeName:k.ZodNullable,...S(e)});var Me=class extends E{static{l(this,"ZodDefault")}_parse(e){let{ctx:n}=this._processInputParams(e),r=n.data;return n.parsedType===v.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};Me.create=(t,e)=>new Me({innerType:t,typeName:k.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...S(e)});var Ie=class extends E{static{l(this,"ZodCatch")}_parse(e){let{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ke(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new F(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new F(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};Ie.create=(t,e)=>new Ie({innerType:t,typeName:k.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...S(e)});var qe=class extends E{static{l(this,"ZodNaN")}_parse(e){if(this._getType(e)!==v.nan){let r=this._getOrReturnCtx(e);return g(r,{code:m.invalid_type,expected:v.nan,received:r.parsedType}),x}return{status:"valid",value:e.data}}};qe.create=t=>new qe({typeName:k.ZodNaN,...S(t)});var Lr=Symbol("zod_brand"),Je=class extends E{static{l(this,"ZodBranded")}_parse(e){let{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},Ye=class t extends E{static{l(this,"ZodPipeline")}_parse(e){let{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return l(async()=>{let s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?x:s.status==="dirty"?(n.dirty(),$e(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})},"handleAsync")();{let i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?x:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new t({in:e,out:n,typeName:k.ZodPipeline})}},Re=class extends E{static{l(this,"ZodReadonly")}_parse(e){let n=this._def.innerType._parse(e),r=l(i=>(Ge(i)&&(i.value=Object.freeze(i.value)),i),"freeze");return Ke(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}};Re.create=(t,e)=>new Re({innerType:t,typeName:k.ZodReadonly,...S(e)});function mn(t,e={},n){return t?ge.create().superRefine((r,i)=>{var s,a;if(!t(r)){let o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(a=(s=o.fatal)!==null&&s!==void 0?s:n)!==null&&a!==void 0?a:!0,u=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...u,fatal:c})}}):ge.create()}l(mn,"custom");var Br={object:W.lazycreate},k;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(k||(k={}));var qr=l((t,e={message:`Input not instance of ${t.name}`})=>mn(n=>n instanceof t,e),"instanceOfType"),gn=me.create,vn=_e.create,Ur=qe.create,zr=ye.create,_n=we.create,Wr=be.create,Fr=De.create,Hr=ke.create,Gr=xe.create,Kr=ge.create,Jr=ue.create,Yr=ee.create,Xr=Ve.create,Qr=ce.create,ei=W.create,ti=W.strictCreate,ni=Te.create,ri=ht.create,ii=Ne.create,si=re.create,ai=pt.create,oi=Le.create,ui=Be.create,ci=mt.create,li=Se.create,di=Ee.create,fi=Oe.create,hi=Ce.create,pi=ve.create,un=H.create,mi=G.create,gi=ie.create,vi=H.createWithPreprocess,_i=Ye.create,yi=l(()=>gn().optional(),"ostring"),wi=l(()=>vn().optional(),"onumber"),bi=l(()=>_n().optional(),"oboolean"),ki={string:l(t=>me.create({...t,coerce:!0}),"string"),number:l(t=>_e.create({...t,coerce:!0}),"number"),boolean:l(t=>we.create({...t,coerce:!0}),"boolean"),bigint:l(t=>ye.create({...t,coerce:!0}),"bigint"),date:l(t=>be.create({...t,coerce:!0}),"date")},xi=x,te=Object.freeze({__proto__:null,defaultErrorMap:Pe,setErrorMap:xr,getErrorMap:lt,makeIssue:dt,EMPTY_PATH:Tr,addIssueToContext:g,ParseStatus:L,INVALID:x,DIRTY:$e,OK:q,isAborted:Mt,isDirty:It,isValid:Ge,isAsync:Ke,get util(){return C},get objectUtil(){return Ct},ZodParsedType:v,getParsedType:pe,ZodType:E,datetimeRegex:hn,ZodString:me,ZodNumber:_e,ZodBigInt:ye,ZodBoolean:we,ZodDate:be,ZodSymbol:De,ZodUndefined:ke,ZodNull:xe,ZodAny:ge,ZodUnknown:ue,ZodNever:ee,ZodVoid:Ve,ZodArray:ce,ZodObject:W,ZodUnion:Te,ZodDiscriminatedUnion:ht,ZodIntersection:Ne,ZodTuple:re,ZodRecord:pt,ZodMap:Le,ZodSet:Be,ZodFunction:mt,ZodLazy:Se,ZodLiteral:Ee,ZodEnum:Oe,ZodNativeEnum:Ce,ZodPromise:ve,ZodEffects:H,ZodTransformer:H,ZodOptional:G,ZodNullable:ie,ZodDefault:Me,ZodCatch:Ie,ZodNaN:qe,BRAND:Lr,ZodBranded:Je,ZodPipeline:Ye,ZodReadonly:Re,custom:mn,Schema:E,ZodSchema:E,late:Br,get ZodFirstPartyTypeKind(){return k},coerce:ki,any:Kr,array:Qr,bigint:zr,boolean:_n,date:Wr,discriminatedUnion:ri,effect:un,enum:fi,function:ci,instanceof:qr,intersection:ii,lazy:li,literal:di,map:oi,nan:Ur,nativeEnum:hi,never:Yr,null:Gr,nullable:gi,number:vn,object:ei,oboolean:bi,onumber:wi,optional:mi,ostring:yi,pipeline:_i,preprocess:vi,promise:pi,record:ai,set:ui,strictObject:ti,string:gn,symbol:Fr,transformer:un,tuple:si,undefined:Hr,union:ni,unknown:Jr,void:Xr,NEVER:xi,ZodIssueCode:m,quotelessJson:kr,ZodError:F});var Ni=te.object({type:te.literal("patron_tier_change"),new_tier:te.number().int(),old_tier:te.number().int(),discord_ids:te.array(te.string()),first_time_patron:te.boolean()}),Si=te.object({type:te.literal("ping")}),yn=te.union([Si,Ni]),Zt="main",wn=class{static{l(this,"TSRedis")}redis;isMocked;constructor(e={mocked:!1}){this.redis=e.mocked?null:new Ti(e),this.isMocked=e.mocked}disconnect(){return this.isMocked?Promise.resolve():this.redis.disconnect(!1)}subscribe(e){if(this.isMocked)return Promise.resolve();this.redis.subscribe(Zt,n=>{n&&console.error("Failed to subscribe: ",n)}),this.redis.on("message",(n,r)=>{if(n===Zt)try{let i=JSON.parse(r),s=yn.parse(i);e(s)}catch(i){console.error("Failed to parse message: ",i)}})}publish(e){if(this.isMocked)return Promise.resolve();let n=yn.parse(e);return this.redis.publish(Zt,JSON.stringify(n))}};export{Kt as GeneralBank,tn as SimpleTable,an as Stopwatch,wn as TSRedis,rn as UserError};
/*! Bundled license information:

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
